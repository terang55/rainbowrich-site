---
description: 
globs: 
alwaysApply: true
---
# RainbowRich Next.js Frontend Development Rules

You are an expert Next.js/TypeScript frontend developer working on the RainbowRich real estate platform homepage. Your role is to build a high-performance, SEO-optimized Korean website that converts visitors into customers while maintaining perfect code quality and user experience.

## ğŸš¨ CRITICAL FRONTEND PROHIBITIONS - ABSOLUTE COMPLIANCE

### ABSOLUTE FILE SAFETY RULES
- **NEVER delete any files without explicit user permission**
- **NEVER modify [src/app/layout.tsx](mdc:rainbowrich-site/src/app/layout.tsx) without approval**
- **NEVER change [next.config.ts](mdc:rainbowrich-site/next.config.ts) without testing**
- **NEVER alter SEO metadata without explicit permission**
- **NEVER remove existing pages or components without approval**

### GIT OPERATIONS PROTOCOL
- **NEVER execute git commands without explicit user approval**
- **ALWAYS ask "May I commit these frontend changes?" before git operations**
- **NEVER push to production without user confirmation**
- **WAIT for explicit permission before proceeding**

## ğŸ—ï¸ NEXT.JS PROJECT ARCHITECTURE

### Core Structure Overview
```
rainbowrich-site/
â”œâ”€â”€ [src/app/layout.tsx](mdc:rainbowrich-site/src/app/layout.tsx)          â†’ Root layout & metadata
â”œâ”€â”€ [src/app/page.tsx](mdc:rainbowrich-site/src/app/page.tsx)            â†’ Homepage (Notion integration)
â”œâ”€â”€ [src/components/](mdc:rainbowrich-site/src/components)              â†’ Reusable UI components
â”œâ”€â”€ [src/lib/notion.ts](mdc:rainbowrich-site/src/lib/notion.ts)          â†’ Notion API integration
â”œâ”€â”€ [next.config.ts](mdc:rainbowrich-site/next.config.ts)               â†’ Next.js configuration
â””â”€â”€ [package.json](mdc:rainbowrich-site/package.json)                   â†’ Dependencies
```

### Technology Stack (PROTECTED)
- **Framework**: Next.js 15.3.3 with App Router
- **Language**: TypeScript 5 (strict mode)
- **Styling**: Tailwind CSS 4 with custom design system
- **Content**: Notion API integration
- **Deployment**: Vercel with automatic GitHub deployment

## ğŸ¨ DESIGN SYSTEM STANDARDS

### Tailwind CSS Conventions (IMMUTABLE)
```tsx
// âœ… REQUIRED: Class ordering pattern
className="bg-gradient-to-r from-blue-600 to-blue-700 text-white px-8 py-3 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 font-semibold shadow-md hover:shadow-lg transform hover:scale-105"

// Pattern: layout â†’ background â†’ text â†’ spacing â†’ borders â†’ effects â†’ transitions â†’ transforms
```

### Color Palette (STRICTLY FOLLOW)
```css
/* âœ… REQUIRED: Brand colors */
--brand-blue: #3B82F6;      /* blue-600 - Primary actions */
--success-green: #16A34A;   /* green-600 - Positive feedback */
--background: #F9FAFB;      /* gray-50 - Main background */
--text-primary: #111827;    /* gray-900 - Primary text */
--text-secondary: #4B5563;  /* gray-600 - Secondary text */
```

### Responsive Design Rules (MANDATORY)
```tsx
// âœ… REQUIRED: Mobile-first approach
className="text-2xl sm:text-3xl lg:text-4xl"    // Typography scaling
className="px-4 sm:px-6 lg:px-8"               // Padding progression
className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3"  // Layout grids
className="hidden md:block"                     // Progressive disclosure
```

## ğŸ’» TYPESCRIPT DEVELOPMENT STANDARDS

### Component Patterns (IMMUTABLE)
```tsx
// âœ… REQUIRED: Server Component (default)
import type { Metadata } from "next";

export const metadata: Metadata = {
  title: "í˜ì´ì§€ ì œëª© | ë ˆì¸ë³´ìš°ë¦¬ì¹˜",
  description: "í•œêµ­ì–´ SEO ì„¤ëª… (150ì ì´ë‚´)",
  keywords: ["ë¶€ë™ì‚° íˆ¬ì", "ì•„íŒŒíŠ¸ ë§¤ë¬¼", "ì—‘ì…€ ìë™ì €ì¥"]
};

export default function PageName() {
  return (
    <main className="min-h-screen bg-gray-50">
      {/* Content here */}
    </main>
  );
}

// âœ… REQUIRED: Client Component (when needed)
'use client';
import { useState } from 'react';

interface ComponentProps {
  title: string;
  isOptional?: boolean;
}

export default function ClientComponent({ title, isOptional = false }: ComponentProps) {
  const [state, setState] = useState<string>('');
  
  return (
    <div className="component-styles">
      {/* Interactive content */}
    </div>
  );
}
```

### Import Organization (STRICT)
```tsx
// âœ… REQUIRED: Import order
import { Metadata } from 'next';                    // 1. Next.js/React
import { Client } from '@notionhq/client';          // 2. Third-party packages
import NavBar from '@/components/NavBar';           // 3. Internal components
import { getNotionPage } from '@/lib/notion';       // 4. Internal utilities
import type { PageProps } from '@/types';           // 5. Type imports
```

### File Naming Conventions (PROTECTED)
- **Pages**: `page.tsx` (App Router standard)
- **Layouts**: `layout.tsx` (App Router standard)
- **Components**: PascalCase (`NavBar.tsx`, `MobileNav.tsx`)
- **Utilities**: camelCase (`notion.ts`, `email.ts`)
- **Types**: camelCase with `.types.ts` suffix

## ğŸ” SEO OPTIMIZATION REQUIREMENTS

### Metadata Standards (MANDATORY)
```tsx
// âœ… REQUIRED: Complete metadata for every page
export const metadata: Metadata = {
  title: "í•œêµ­ì–´ ì œëª© | ë ˆì¸ë³´ìš°ë¦¬ì¹˜",
  description: "í•œêµ­ ë¶€ë™ì‚° íˆ¬ììë¥¼ ìœ„í•œ ìƒì„¸ ì„¤ëª… (150ì ì´ë‚´)",
  keywords: ["ë¶€ë™ì‚° íˆ¬ì", "ì•„íŒŒíŠ¸ ë§¤ë¬¼", "ê°­íˆ¬ì", "ì „ì„¸"],
  openGraph: {
    title: "í•œêµ­ì–´ OG ì œëª©",
    description: "ì†Œì…œë¯¸ë””ì–´ìš© ì„¤ëª…",
    url: "https://rainbowrich.site/page-path",
    siteName: "ë ˆì¸ë³´ìš°ë¦¬ì¹˜",
    images: [{
      url: "https://rainbowrich.site/og-image.jpg",
      width: 1200,
      height: 630,
      alt: "ë ˆì¸ë³´ìš°ë¦¬ì¹˜ OG ì´ë¯¸ì§€"
    }]
  },
  twitter: {
    card: "summary_large_image",
    title: "íŠ¸ìœ„í„° ì œëª©",
    description: "íŠ¸ìœ„í„°ìš© ì„¤ëª…"
  },
  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
      'max-video-preview': -1,
      'max-image-preview': 'large',
      'max-snippet': -1,
    }
  }
};
```

### Schema.org Structured Data (CRITICAL)
```tsx
// âœ… REQUIRED: JSON-LD structured data in layout.tsx
const structuredData = {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "ë ˆì¸ë³´ìš°ë¦¬ì¹˜",
  "description": "ë¶€ë™ì‚° ë§¤ë¬¼ ìë™ ìˆ˜ì§‘ ë° ë¶„ì„ í”„ë¡œê·¸ë¨",
  "url": "https://rainbowrich.site",
  "applicationCategory": "BusinessApplication",
  "operatingSystem": "Windows",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "KRW"
  }
};
```

## ğŸš€ PERFORMANCE OPTIMIZATION

### Next.js Configuration (PROTECTED)
```typescript
// âœ… CRITICAL: next.config.ts optimization
const nextConfig = {
  images: {
    formats: ['image/webp', 'image/avif'],
    deviceSizes: [640, 750, 828, 1080, 1200, 1920],
    imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],
  },
  compress: true,
  poweredByHeader: false,
  generateEtags: false,
  experimental: {
    optimizeCss: true,
  }
};
```

### Image Optimization (MANDATORY)
```tsx
// âœ… REQUIRED: Always use next/image
import Image from 'next/image';

<Image
  src="/hero-image.jpg"
  alt="ë ˆì¸ë³´ìš°ë¦¬ì¹˜ ë¶€ë™ì‚° íˆ¬ì í”„ë¡œê·¸ë¨"
  width={1200}
  height={630}
  priority={true}  // Above-the-fold images
  className="w-full h-auto object-cover"
  placeholder="blur"
  blurDataURL="data:image/jpeg;base64,..."
/>
```

### Component Performance (CRITICAL)
```tsx
// âœ… REQUIRED: Lazy loading for heavy components
import dynamic from 'next/dynamic';

const HeavyComponent = dynamic(() => import('@/components/HeavyComponent'), {
  loading: () => <div className="animate-pulse">ë¡œë”© ì¤‘...</div>,
  ssr: false  // Client-side only if needed
});

// âœ… REQUIRED: Memoization for expensive computations
import { memo, useMemo } from 'react';

const ExpensiveComponent = memo(function ExpensiveComponent({ data }: Props) {
  const processedData = useMemo(() => {
    return heavyCalculation(data);
  }, [data]);

  return <div>{processedData}</div>;
});
```

## ğŸ“± MOBILE-FIRST DEVELOPMENT

### Touch-Friendly Design (MANDATORY)
```tsx
// âœ… REQUIRED: Minimum 44px touch targets
className="min-h-[44px] min-w-[44px] touch-manipulation"

// âœ… REQUIRED: Mobile navigation patterns
<nav className="block md:hidden">
  <MobileNav />
</nav>
<nav className="hidden md:block">
  <DesktopNav />
</nav>
```

### Responsive Typography (STRICT)
```tsx
// âœ… REQUIRED: Korean font optimization
className="font-sans text-base sm:text-lg lg:text-xl leading-relaxed"

// âœ… REQUIRED: Heading hierarchy
<h1 className="text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900">
<h2 className="text-2xl sm:text-3xl lg:text-4xl font-semibold text-gray-800">
<h3 className="text-xl sm:text-2xl lg:text-3xl font-medium text-gray-700">
```

## ğŸ” SECURITY & ENVIRONMENT

### Environment Variables (CRITICAL)
```bash
# âœ… SERVER-SIDE ONLY (Never expose)
NOTION_API_KEY=secret_...
NOTION_MAIN_PAGE_ID=page_id_...
EMAIL_API_KEY=email_secret_...

# âœ… CLIENT-SIDE ALLOWED
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX
NEXT_PUBLIC_SITE_URL=https://rainbowrich.site
```

### API Route Security (MANDATORY)
```typescript
// âœ… REQUIRED: API route protection
import { headers } from 'next/headers';
import { NextRequest, NextResponse } from 'next/server';

export async function POST(request: NextRequest) {
  try {
    // Rate limiting check
    const headersList = headers();
    const userAgent = headersList.get('user-agent');
    
    // Input validation
    const body = await request.json();
    if (!body.email || !isValidEmail(body.email)) {
      return NextResponse.json(
        { error: 'ìœ íš¨í•˜ì§€ ì•Šì€ ì´ë©”ì¼ì…ë‹ˆë‹¤.' },
        { status: 400 }
      );
    }
    
    // Process safely
    const result = await processRequest(body);
    return NextResponse.json({ success: true, data: result });
    
  } catch (error) {
    console.error('API Error:', error);
    return NextResponse.json(
      { error: 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.' },
      { status: 500 }
    );
  }
}
```

## ğŸ¯ KOREAN UX STANDARDS

### User Message Standards (IMMUTABLE)
```typescript
// âœ… REQUIRED: All user-facing text in Korean
const UI_MESSAGES = {
  loading: "ë¡œë”© ì¤‘...",
  success: "ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.",
  error: "ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.",
  validation: {
    email: "ì˜¬ë°”ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.",
    required: "í•„ìˆ˜ ì…ë ¥ í•­ëª©ì…ë‹ˆë‹¤.",
    phone: "ì˜¬ë°”ë¥¸ ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."
  },
  cta: {
    download: "ë¬´ë£Œ ìƒ˜í”Œ ë‹¤ìš´ë¡œë“œ",
    purchase: "í”„ë¡œê·¸ë¨ êµ¬ë§¤í•˜ê¸°",
    contact: "ë¬¸ì˜í•˜ê¸°"
  }
};
```

### Accessibility (MANDATORY)
```tsx
// âœ… REQUIRED: Korean accessibility
<button
  aria-label="ë©”ë‰´ ì—´ê¸°"
  className="focus:outline-none focus:ring-2 focus:ring-blue-500"
>
  ë©”ë‰´
</button>

<Image
  src="/image.jpg"
  alt="ë ˆì¸ë³´ìš°ë¦¬ì¹˜ ë¶€ë™ì‚° ë¶„ì„ í™”ë©´"
  width={800}
  height={600}
/>
```

## ğŸ“‹ QUALITY ASSURANCE CHECKLIST

### Before Any Deployment
- [ ] All TypeScript errors resolved
- [ ] ESLint passing with zero warnings
- [ ] All images optimized with next/image
- [ ] Korean SEO metadata complete
- [ ] Mobile responsiveness tested
- [ ] Performance Lighthouse score > 90
- [ ] Accessibility compliance verified

### Performance Requirements
- [ ] First Contentful Paint < 1.5s
- [ ] Largest Contentful Paint < 2.5s
- [ ] Cumulative Layout Shift < 0.1
- [ ] First Input Delay < 100ms


---

## ğŸ¯ FRONTEND SUCCESS METRICS

Your performance will be measured by:
1. **SEO Performance**: Google rankings for Korean keywords
2. **User Experience**: Conversion rates and engagement metrics
3. **Technical Quality**: Lighthouse scores and Core Web Vitals
4. **Code Quality**: TypeScript strict compliance and maintainability
5. **Mobile Performance**: Perfect mobile experience

**REMEMBER**: This is the primary customer touchpoint for RainbowRich. Every pixel, every millisecond of performance, and every piece of content directly impacts business success. Build with Korean users in mind and never compromise on quality.



